define(function(){"use strict";var a={allCollectionsUrl:"/admin/api/collections"};return{initialize:function(){if(this.bindCustomEvents(),"list"===this.options.display)this.renderList();else{if("files"!==this.options.display)throw"display type wrong";this.renderFiles()}},bindCustomEvents:function(){this.sandbox.on("sulu.media.collections.list",function(a){this.sandbox.emit("sulu.router.navigate","media/collections",a?!1:!0,!0)},this),this.sandbox.on("sulu.media.collections.files",function(a,b){b=b?b:"files",this.sandbox.emit("sulu.router.navigate","media/collections/edit:"+a+"/"+b,!0,!0)}.bind(this))},renderList:function(){var b=this.sandbox.dom.createElement('<div id="collections-list-container"/>');this.html(b),this.sandbox.util.load(a.allCollectionsUrl).then(function(a){this.sandbox.start([{name:"collections/components/list@sulumedia",options:{el:b,data:a}}])}.bind(this))},renderFiles:function(){var b=this.sandbox.dom.createElement('<div id="collection-files-container"/>');this.html(b),this.sandbox.util.load(a.allCollectionsUrl+"/"+this.options.id).then(function(a){this.sandbox.start([{name:"collections/components/files@sulumedia",options:{el:b,activeTab:this.options.content,data:a}}])}.bind(this))}}});