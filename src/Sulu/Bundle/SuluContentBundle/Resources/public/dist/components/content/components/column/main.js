define(function(){"use strict";return{view:!0,initialize:function(){this.render()},bindCustomEvents:function(){this.sandbox.on("husky.column-navigation.add",function(a){this.sandbox.emit("sulu.content.contents.new",a)},this),this.sandbox.on("husky.column-navigation.edit",function(a){this.sandbox.emit("sulu.content.contents.load",a.id)},this),this.sandbox.on("sulu.content.localizations",function(a){this.localizations=a},this)},bindDomEvents:function(){this.sandbox.dom.on("#show-ghost-pages","change",function(){this.sandbox.dom.remove("#content-column"),this.sandbox.dom.append("#contacts-column-container",'<div id="content-column"></div>'),this.sandbox.start([{name:"column-navigation@husky",options:{el:"#content-column",url:this.getUrl()}}])}.bind(this))},getUrl:function(){var a=this.sandbox.dom.find("#show-ghost-pages").is(":checked");return"/admin/api/nodes?depth=1&webspace="+this.options.webspace+"&language="+this.options.language+"&exclude-ghosts="+(a?"false":"true")},changeLanguage:function(a){this.sandbox.emit("sulu.content.contents.list",this.options.webspace,a)},render:function(){this.bindCustomEvents(),require(["text!/admin/content/template/content/column/"+this.options.webspace+"/"+this.options.language+".html"],function(a){var b={translate:this.sandbox.translate},c=this.sandbox.util.extend({},b),d=this.sandbox.util.template(a,c);this.sandbox.dom.html(this.$el,d),this.bindDomEvents(),this.sandbox.start([{name:"dropdown@husky",options:{el:"#language-selector",alignment:"right",data:this.localizations,clickCallback:function(a){this.changeLanguage(a.localization)}.bind(this)}},{name:"column-navigation@husky",options:{el:"#content-column",url:this.getUrl()}}])}.bind(this))}}});