define(function(){"use strict";return{view:!0,templates:["/admin/content/template/content/list"],initialize:function(){this.render()},render:function(){this.sandbox.dom.html(this.$el,this.renderTemplate("/admin/content/template/content/list")),this.sandbox.start([{name:"dropdown@husky",options:{el:"#options-dropdown",trigger:".dropdown-toggle",setParentDropDown:!0,instanceName:"options",alignment:"right",data:[{id:1,type:"delete",name:this.sandbox.translate("public.delete")}]}}]),this.sandbox.start([{name:"datagrid@husky",options:{el:this.sandbox.dom.find("#content-list",this.$el),url:"/admin/api/nodes?depth=1",pagination:!1,selectItem:{type:"checkbox"},removeRow:!1,tableHead:[{content:this.sandbox.translate("content.contents.changer"),attribute:"changer"},{content:this.sandbox.translate("contact.contents.changed"),attribute:"changed"},{content:this.sandbox.translate("contact.contents.title"),attribute:"title"}]}}]),this.sandbox.on("husky.datagrid.item.click",function(a){this.sandbox.emit("sulu.content.contents.load",a)},this),this.sandbox.on("husky.dropdown.options.clicked",function(){this.sandbox.emit("husky.dropdown.options.toggle")},this),this.sandbox.on("husky.dropdown.options.item.click",function(a){"delete"===a.type&&this.sandbox.emit("husky.datagrid.items.get-selected",function(a){this.sandbox.emit("sulu.content.contents.delete",a)}.bind(this))},this),this.sandbox.emit("husky.header.button-type","add"),this.sandbox.on("husky.button.add.click",function(){this.sandbox.emit("sulu.content.contents.new")},this)}}});