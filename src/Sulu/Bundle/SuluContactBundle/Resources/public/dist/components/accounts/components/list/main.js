define(["mvc/relationalstore"],function(a){"use strict";var b=function(){this.sandbox.on("husky.datagrid.item.click",function(a){this.sandbox.emit("sulu.contacts.accounts.load",a)},this),this.sandbox.on("sulu.list-toolbar.delete",function(){this.sandbox.emit("husky.datagrid.items.get-selected",function(a){this.sandbox.emit("sulu.contacts.accounts.delete",a)}.bind(this))},this),this.sandbox.on("sulu.list-toolbar.add",function(){this.sandbox.emit("sulu.contacts.accounts.new")},this)};return{view:!0,templates:["/admin/contact/template/account/list"],initialize:function(){this.render(),b.call(this)},render:function(){a.reset(),this.sandbox.dom.html(this.$el,this.renderTemplate("/admin/contact/template/account/list")),this.sandbox.sulu.initListToolbarAndList.call(this,"accountsFields","/admin/api/accounts/fields",{el:"#list-toolbar-container",instanceName:"accounts"},{el:this.sandbox.dom.find("#companies-list",this.$el),url:"/admin/api/accounts?flat=true",pagination:!1,sortable:!0,selectItem:{type:"checkbox"}})}}});